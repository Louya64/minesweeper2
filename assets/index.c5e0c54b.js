import{d as T,c as $,o as _,a as w,b as l,t as y,n as z,u as f,e as B,r as p,w as E,f as O,F as L,g as H,h as K,i as S,v as G,p as P,j as W,k as J,l as M,m as Q}from"./vendor.1973bc7a.js";const X=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(s){if(s.ep)return;s.ep=!0;const t=e(s);fetch(s.href,t)}};X();var Y="https://louya64.github.io/minesweeper2/assets/croix.ac73a50d.png";var j=(a,n)=>{const e=a.__vccOpts||a;for(const[o,s]of n)e[o]=s;return e};const Z=["id"],C={key:0,class:"hidden"},R={key:1,class:"flag"},ee={key:2,class:"isTheLoosingBomb",width:"35",src:Y,alt:"dfg"},se=T({props:{content:null},setup(a){const n=a,e=$(()=>n.content.visible),o=$(()=>n.content.flag),s=$(()=>n.content.loosingBomb),t=$(()=>{switch(n.content.value){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 10:return"bomb";default:return"unknown"}});return(c,r)=>(_(),w("div",{class:"cell",id:a.content.row.toString()+"-"+a.content.col.toString()},[l("div",{class:z(f(t))},y(a.content.value),3),f(e)?B("",!0):(_(),w("div",C)),f(o)?(_(),w("div",R,"!")):B("",!0),f(s)?(_(),w("img",ee)):B("",!0)],8,Z))}});var te=j(se,[["__scopeId","data-v-2255714b"]]);function k(a,n){let e=[];for(let o=0;o<a;o++){e.push([]);for(let s=0;s<n;s++)e[o].push({value:0,visible:!1,flag:!1,row:o,col:s,loosingBomb:!1})}return e}function I(a,n,e,o){let s=[];return e!==0&&(o!==0&&s.push({row:e-1,col:o-1}),s.push({row:e-1,col:o}),o!==n-1&&s.push({row:e-1,col:o+1})),o!==0&&s.push({row:e,col:o-1}),o!==n-1&&s.push({row:e,col:o+1}),e!==a-1&&(o!==0&&s.push({row:e+1,col:o-1}),s.push({row:e+1,col:o}),o!==n-1&&s.push({row:e+1,col:o+1})),s}function oe(a,n,e,o,s){if(o>n*e){alert("il y a plus de bombes que de cases");return}a.map(c=>c.map(r=>(r.value=0,r.visible=!1,r.flag=!1,r.loosingBomb=!1)));let t=I(n,e,s.row,s.col);t[t.length]={row:s.row,col:s.col};for(let c=0;c<o;c++){let r=Math.floor(Math.random()*n),i=Math.floor(Math.random()*e),m=!1;for(;!m;)console.log("dans while"),m=!0,t.map(x=>{x.row===r&&x.col===i&&(m=!1)}),a[r][i].value===10&&(m=!1),m||(r=Math.floor(Math.random()*n),i=Math.floor(Math.random()*e));a[r][i].value=10}return a.map(c=>c.map(r=>{r.value===10&&I(n,e,r.row,r.col).map(i=>{a[i.row][i.col].value!==10&&a[i.row][i.col].value++})})),a}const ae={class:"row"},ne=T({props:{rows:null,cols:null,mines:null,startClicked:{type:Boolean},flags:null},emits:["flagUpdate","endGame"],setup(a,{emit:n}){const e=a,o=p(!0),s=p(!0);let t=p(k(e.rows,e.cols));const c=$(()=>e.rows*e.cols-e.mines);let r=0;E(()=>e.startClicked,u=>{u&&(o.value=!0,s.value=!0,t.value=k(e.rows,e.cols))}),E(()=>e.rows,u=>{o.value=!0,s.value=!0,t.value=k(u,e.cols)}),E(()=>e.cols,u=>{o.value=!0,s.value=!0,t.value=k(e.rows,u)});const i=u=>{if(o.value&&s.value&&(oe(t.value,e.rows,e.cols,e.mines,u),r=1,o.value=!1),!u.flag&&!u.visible&&s.value){if(u.visible=!0,u.value===10){u.loosingBomb=!0,t.value.map(d=>d.map(v=>{v.value===10&&!v.flag&&(v.visible=!0)})),n("endGame"),s.value=!1,setTimeout(()=>alert("game over"),150);return}else r++;u.value===0&&I(e.rows,e.cols,u.row,u.col).map(d=>{t.value[d.row][d.col].visible||i(t.value[d.row][d.col])}),r===c.value&&(t.value.map(d=>d.map(v=>{v.flag||(v.visible=!0)})),n("endGame"),s.value=!1,setTimeout(()=>alert("wiiin"),150))}},m=u=>{if(!e.flags||u.visible||!s.value)return;u.flag=!u.flag;const d=u.flag?-1:1;n("flagUpdate",d)},x=u=>{if(!u.visible||u.flag||!s.value)return;let d=0;I(e.rows,e.cols,u.row,u.col).map(v=>{t.value[v.row][v.col].flag&&d++}),d===u.value&&I(e.rows,e.cols,u.row,u.col).map(v=>{t.value[v.row][v.col].visible||i(t.value[v.row][v.col])})};return(u,d)=>(_(!0),w(L,null,O(f(t).length,(v,h)=>(_(),w("div",ae,[(_(!0),w(L,null,O(f(t)[0].length,(V,g)=>(_(),H(te,{content:{value:f(t)[h][g].value,visible:f(t)[h][g].visible,row:f(t)[h][g].row,col:f(t)[h][g].col,flag:f(t)[h][g].flag,loosingBomb:f(t)[h][g].loosingBomb},onClick:N=>i(f(t)[h][g]),onContextmenu:K(N=>m(f(t)[h][g]),["prevent"]),onDblclick:N=>x(f(t)[h][g])},null,8,["content","onClick","onContextmenu","onDblclick"]))),256))]))),256))}});const F=a=>(P("data-v-6bdfc67c"),a=a(),W(),a),le={class:"setting"},re={class:"settingsItem"},ue=F(()=>l("label",{for:"width"},"Changer la hauteur",-1)),ie={class:"settingsItem"},ce=F(()=>l("label",{for:"height"},"Changer la largeur",-1)),ve={class:"settingsItem"},de=F(()=>l("label",{for:"bombs"},"Changer les bombes",-1)),fe=T({props:{rows:null,cols:null,nbMines:null},emits:["newRows","newCols","newNbMines"],setup(a,{emit:n}){const e=a,o=p(e.rows),s=p(e.cols),t=p(e.nbMines);return E(()=>o.value,c=>{n("newRows",c)}),E(()=>s.value,c=>{n("newCols",c)}),E(()=>t.value,c=>{n("newNbMines",c)}),(c,r)=>(_(),w("div",le,[l("div",re,[ue,S(l("input",{min:"9",type:"number",id:"width","onUpdate:modelValue":r[0]||(r[0]=i=>o.value=i)},null,512),[[G,o.value]])]),l("div",ie,[ce,S(l("input",{min:"9",type:"number",id:"height","onUpdate:modelValue":r[1]||(r[1]=i=>s.value=i)},null,512),[[G,s.value]])]),l("div",ve,[de,S(l("input",{min:"10",type:"number",id:"bombs","onUpdate:modelValue":r[2]||(r[2]=i=>t.value=i)},null,512),[[G,t.value]])])]))}});var pe=j(fe,[["__scopeId","data-v-6bdfc67c"]]);const U=a=>(P("data-v-3e82f988"),a=a(),W(),a),me=U(()=>l("h1",null,"D\xE9mineur",-1)),_e=M(" Click sur le petit bonhomme jaune pour d\xE9marrer une partie "),he={class:"mainWrapper"},ge={key:0,class:"rulesContainer"},be=U(()=>l("h2",null,"R\xE8gles du jeu",-1)),we=U(()=>l("p",{class:"rules"},[M(" * Le but du jeu est de d\xE9couvrir toutes les cases sans tomber sur une bombe"),l("br"),l("br"),M(' * Un click gauche sur une case "cach\xE9e" r\xE9v\xE8le son contenu '),l("br"),M(' * Un click droit sur une case "cach\xE9e" permet de d\xE9poser un drapeau'),l("br"),M(" * Un double click sur une case d\xE9couverte, si le nombre de drapeaux d\xE9pos\xE9e sur les cases adjacentes correspond au contenu de cette case, r\xE9v\xE8le les cases adjacentes"),l("br"),M(" * Le timer ... ne sert \xE0 rien mais il compte ^^"),l("br"),l("br"),M(" **** Click sur le petit bonhomme jaune pour d\xE9marrer une partie ")],-1)),ye=[be,we],Me={class:"gameContainer"},Ee={class:"gameHeader"},xe={class:"gameHeaderItem"},$e={class:"icon"},Be={class:"gameHeaderItem"},Ie={id:"gameGrid"},Ne=T({setup(a){const n=p(":)"),e=p(10),o=p(0),s=p(9),t=p(9),c=p(!1),r=p(!1),i=p(!1),m=p(e.value),x=()=>{i.value&&(i.value=!1),r.value=!r.value},u=()=>{r.value&&(r.value=!1),i.value=!i.value},d=b=>{s.value=b},v=b=>{t.value=b},h=b=>{e.value=b},V=b=>{m.value+=b};E(()=>e.value,b=>m.value=b);const g=()=>{c.value=!1,m.value=e.value,D(),setTimeout(()=>(c.value=!0,q()),150)},N=()=>{D()};let A;const q=()=>{o.value=0,A=setInterval(()=>o.value++,1e3)},D=()=>{clearInterval(A)};return(b,Te)=>(_(),w(L,null,[l("header",null,[me,_e,l("button",{class:"rulesBtn btn",onClick:u},"R\xE8gles du jeu"),l("button",{class:"settingsBtn btn",onClick:x},"R\xE9glages")]),l("div",he,[i.value?(_(),w("div",ge,ye)):B("",!0),r.value?(_(),H(pe,{key:1,rows:s.value,cols:t.value,nbMines:e.value,onNewRows:d,onNewCols:v,onNewNbMines:h},null,8,["rows","cols","nbMines"])):B("",!0),l("div",Me,[l("div",Ee,[l("div",xe,[l("span",null,y(m.value<100?"0":"")+y(m.value),1)]),l("div",{onClick:g,class:"gameHeaderItem"},[l("p",$e,y(n.value),1)]),l("div",Be,y(o.value<100?"0":"")+y(o.value<10?"0":"")+y(o.value),1)]),l("div",Ie,[J(ne,{onFlagUpdate:V,onEndGame:N,rows:s.value,cols:t.value,mines:e.value,startClicked:c.value,flags:m.value},null,8,["rows","cols","mines","startClicked","flags"])])])])],64))}});var ke=j(Ne,[["__scopeId","data-v-3e82f988"]]);Q(ke).mount("#app");
