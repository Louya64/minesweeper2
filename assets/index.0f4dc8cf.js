import{d as k,c as x,o as g,a as w,b as u,t as y,n as K,u as p,e as $,r as d,w as M,f as H,F,g as P,h as J,i as L,v as j,p as W,j as q,k as Q,l as T,m as X}from"./vendor.1973bc7a.js";const Y=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(s){if(s.ep)return;s.ep=!0;const t=e(s);fetch(s.href,t)}};Y();var Z="https://louya64.github.io/minesweeper2/assets/croix.ac73a50d.png";var U=(n,a)=>{const e=n.__vccOpts||n;for(const[o,s]of a)e[o]=s;return e};const C=["id"],R={key:0,class:"hidden"},ee={key:1,class:"flag"},se={key:2,class:"isTheLoosingBomb",width:"35",src:Z,alt:"dfg"},te=k({props:{content:null},setup(n){const a=n,e=x(()=>a.content.visible),o=x(()=>a.content.flag),s=x(()=>a.content.loosingBomb),t=x(()=>{switch(a.content.value){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 10:return"bomb";default:return"unknown"}});return(c,l)=>(g(),w("div",{class:"cell",id:n.content.row.toString()+"-"+n.content.col.toString()},[u("div",{class:K(p(t))},y(n.content.value),3),p(e)?$("",!0):(g(),w("div",R)),p(o)?(g(),w("div",ee,"!")):$("",!0),p(s)?(g(),w("img",se)):$("",!0)],8,C))}});var oe=U(te,[["__scopeId","data-v-2255714b"]]);function N(n,a){let e=[];for(let o=0;o<n;o++){e.push([]);for(let s=0;s<a;s++)e[o].push({value:0,visible:!1,flag:!1,row:o,col:s,loosingBomb:!1})}return e}function B(n,a,e,o){let s=[];return e!==0&&(o!==0&&s.push({row:e-1,col:o-1}),s.push({row:e-1,col:o}),o!==a-1&&s.push({row:e-1,col:o+1})),o!==0&&s.push({row:e,col:o-1}),o!==a-1&&s.push({row:e,col:o+1}),e!==n-1&&(o!==0&&s.push({row:e+1,col:o-1}),s.push({row:e+1,col:o}),o!==a-1&&s.push({row:e+1,col:o+1})),s}function ae(n,a,e,o,s){if(o>a*e){alert("il y a plus de bombes que de cases");return}n.map(c=>c.map(l=>(l.value=0,l.visible=!1,l.flag=!1,l.loosingBomb=!1)));let t=B(a,e,s.row,s.col);t[t.length]={row:s.row,col:s.col};for(let c=0;c<o;c++){let l=Math.floor(Math.random()*a),i=Math.floor(Math.random()*e),m=!1;for(;!m;)m=!0,t.map(E=>{E.row===l&&E.col===i&&(m=!1)}),n[l][i].value===10&&(m=!1),m||(l=Math.floor(Math.random()*a),i=Math.floor(Math.random()*e));n[l][i].value=10}return n.map(c=>c.map(l=>{l.value===10&&B(a,e,l.row,l.col).map(i=>{n[i.row][i.col].value!==10&&n[i.row][i.col].value++})})),n}const ne={class:"row"},le=k({props:{rows:null,cols:null,mines:null,startClicked:{type:Boolean},flags:null},emits:["flagUpdate","stopTimer","startTimer"],setup(n,{emit:a}){const e=n,o=d(!0),s=d(!0);let t=d(N(e.rows,e.cols));const c=x(()=>e.rows*e.cols-e.mines);let l=0;M(()=>e.startClicked,r=>{r&&(o.value=!0,s.value=!0,t.value=N(e.rows,e.cols))}),M(()=>e.rows,r=>{o.value=!0,s.value=!0,t.value=N(r,e.cols),a("stopTimer",!0)}),M(()=>e.cols,r=>{o.value=!0,s.value=!0,t.value=N(e.rows,r),a("stopTimer",!0)});const i=r=>{if(o.value&&s.value&&(ae(t.value,e.rows,e.cols,e.mines,r),l=0,o.value=!1,a("startTimer")),!r.flag&&!r.visible&&s.value){if(r.visible=!0,r.value===10){r.loosingBomb=!0,t.value.map(f=>f.map(v=>{v.value===10&&!v.flag&&(v.visible=!0)})),a("stopTimer"),s.value=!1,setTimeout(()=>alert("game over"),150);return}else l++;r.value===0&&B(e.rows,e.cols,r.row,r.col).map(f=>{t.value[f.row][f.col].visible||i(t.value[f.row][f.col])}),console.log(l),l===c.value&&(t.value.map(f=>f.map(v=>{v.flag||(v.visible=!0)})),a("stopTimer"),s.value=!1,setTimeout(()=>alert("wiiin"),150))}},m=r=>{if(r.visible||!s.value||!e.flags&&!r.flag)return;r.flag=!r.flag;const f=r.flag?-1:1;a("flagUpdate",f)},E=r=>{if(!r.visible||r.flag||!s.value)return;let f=0;B(e.rows,e.cols,r.row,r.col).map(v=>{t.value[v.row][v.col].flag&&f++}),f===r.value&&B(e.rows,e.cols,r.row,r.col).map(v=>{t.value[v.row][v.col].visible||i(t.value[v.row][v.col])})};return(r,f)=>(g(!0),w(F,null,H(p(t).length,(v,h)=>(g(),w("div",ne,[(g(!0),w(F,null,H(p(t)[0].length,(G,b)=>(g(),P(oe,{content:{value:p(t)[h][b].value,visible:p(t)[h][b].visible,row:p(t)[h][b].row,col:p(t)[h][b].col,flag:p(t)[h][b].flag,loosingBomb:p(t)[h][b].loosingBomb},onClick:I=>i(p(t)[h][b]),onContextmenu:J(I=>m(p(t)[h][b]),["prevent"]),onDblclick:I=>E(p(t)[h][b])},null,8,["content","onClick","onContextmenu","onDblclick"]))),256))]))),256))}});const V=n=>(W("data-v-6bdfc67c"),n=n(),q(),n),re={class:"setting"},ue={class:"settingsItem"},ie=V(()=>u("label",{for:"width"},"Changer la hauteur",-1)),ce={class:"settingsItem"},ve=V(()=>u("label",{for:"height"},"Changer la largeur",-1)),fe={class:"settingsItem"},pe=V(()=>u("label",{for:"bombs"},"Changer les bombes",-1)),de=k({props:{rows:null,cols:null,nbMines:null},emits:["newRows","newCols","newNbMines"],setup(n,{emit:a}){const e=n,o=d(e.rows),s=d(e.cols),t=d(e.nbMines);return M(()=>o.value,c=>{a("newRows",c)}),M(()=>s.value,c=>{a("newCols",c)}),M(()=>t.value,c=>{a("newNbMines",c)}),(c,l)=>(g(),w("div",re,[u("div",ue,[ie,L(u("input",{min:"9",type:"number",id:"width","onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i)},null,512),[[j,o.value]])]),u("div",ce,[ve,L(u("input",{min:"9",type:"number",id:"height","onUpdate:modelValue":l[1]||(l[1]=i=>s.value=i)},null,512),[[j,s.value]])]),u("div",fe,[pe,L(u("input",{min:"10",type:"number",id:"bombs","onUpdate:modelValue":l[2]||(l[2]=i=>t.value=i)},null,512),[[j,t.value]])])]))}});var me=U(de,[["__scopeId","data-v-6bdfc67c"]]);const A=n=>(W("data-v-6f6770a8"),n=n(),q(),n),_e=A(()=>u("h1",null,"D\xE9mineur",-1)),ge=T(" Click sur le petit bonhomme jaune pour d\xE9marrer une partie "),he={class:"mainWrapper"},be={key:0,class:"rulesContainer"},we=A(()=>u("h2",null,"R\xE8gles du jeu",-1)),ye=A(()=>u("p",{class:"rules"},[T(" * Le but du jeu est de d\xE9couvrir toutes les cases sans tomber sur une bombe"),u("br"),u("br"),T(' * Un click gauche sur une case "cach\xE9e" r\xE9v\xE8le son contenu '),u("br"),T(' * Un click droit sur une case "cach\xE9e" permet de d\xE9poser un drapeau'),u("br"),T(" * Un double click sur une case d\xE9couverte, si le nombre de drapeaux d\xE9pos\xE9e sur les cases adjacentes correspond au contenu de cette case, r\xE9v\xE8le les cases adjacentes"),u("br"),T(" * Le timer ... ne sert \xE0 rien mais il compte ^^"),u("br"),u("br"),T(" **** Click sur le petit bonhomme jaune pour d\xE9marrer une partie ")],-1)),Te=[we,ye],Me={class:"gameContainer"},Ee={class:"gameHeader"},xe={class:"gameHeaderItem"},$e={class:"icon"},Be={class:"gameHeaderItem"},Ie={id:"gameGrid"},Ne=k({setup(n){const a=d(":)"),e=d(10),o=d(0),s=d(9),t=d(9),c=d(!1),l=d(!1),i=d(!1),m=d(e.value),E=()=>{i.value&&(i.value=!1),l.value=!l.value},r=()=>{l.value&&(l.value=!1),i.value=!i.value},f=_=>{s.value=_},v=_=>{t.value=_},h=_=>{e.value=_},G=_=>{m.value+=_};M(()=>e.value,_=>m.value=_);const b=()=>{c.value=!1,m.value=e.value,S(!0),setTimeout(()=>c.value=!0,150)},I=()=>{S()};let D;const z=()=>{O(),D=setInterval(()=>o.value++,1e3)},O=()=>{o.value=0},S=(_=!1)=>{_&&O(),clearInterval(D)};return(_,Se)=>(g(),w(F,null,[u("header",null,[_e,ge,u("button",{class:"rulesBtn btn",onClick:r},"R\xE8gles du jeu"),u("button",{class:"settingsBtn btn",onClick:E},"R\xE9glages")]),u("div",he,[i.value?(g(),w("div",be,Te)):$("",!0),l.value?(g(),P(me,{key:1,rows:s.value,cols:t.value,nbMines:e.value,onNewRows:f,onNewCols:v,onNewNbMines:h},null,8,["rows","cols","nbMines"])):$("",!0),u("div",Me,[u("div",Ee,[u("div",xe,[u("span",null,y(m.value<100?"0":"")+y(m.value),1)]),u("div",{onClick:b,class:"gameHeaderItem"},[u("p",$e,y(a.value),1)]),u("div",Be,y(o.value<100?"0":"")+y(o.value<10?"0":"")+y(o.value),1)]),u("div",Ie,[Q(le,{onFlagUpdate:G,onStopTimer:S,onStartTimer:z,onEndGame:I,rows:s.value,cols:t.value,mines:e.value,startClicked:c.value,flags:m.value},null,8,["rows","cols","mines","startClicked","flags"])])])])],64))}});var ke=U(Ne,[["__scopeId","data-v-6f6770a8"]]);X(ke).mount("#app");
